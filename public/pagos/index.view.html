<!-- ============================================================== -->
<!-- Main wrapper - style you can find in pages.scss -->
<!-- ============================================================== -->
<div id="main-wrapper" class="modal-demo">

    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader" ng-show="vm.loading">
      <div align="center" ng-show="vm.warning!==null">{{vm.warning}}</div>
        <svg class="circular" viewBox="25 25 50 50">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />
        </svg>
    </div>

    <!-- ============================================================== -->
    <!-- Topbar header - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <header class="topbar">
        <nav class="navbar top-navbar navbar-toggleable-sm navbar-light">
            <!-- ============================================================== -->
            <!-- Logo -->
            <!-- ============================================================== -->
            <div class="navbar-header">
                <a class="navbar-brand" href="index.html">
                    <!-- Logo icon --><b>
                    <!--You can put here icon as well // <i class="wi wi-sunset"></i> //-->
                    <!-- Dark Logo icon -->
                    <img src="assets/images/logo-icon.png" alt="homepage" class="dark-logo" />
                    <!-- Light Logo icon -->
                    <img src="assets/images/logo-light-icon.png" alt="homepage" class="light-logo" />
                </b>
                    <!--End Logo icon -->
                    <!-- Logo text --><span>
                     <!-- dark Logo text -->
                     <img src="assets/images/logo-text.png" alt="homepage" class="dark-logo" />
                    <!-- Light Logo text -->
                     <img src="assets/images/logo-light-text.png" class="light-logo" alt="homepage" /></span> </a>
            </div>
            <!-- ============================================================== -->
            <!-- End Logo -->
            <!-- ============================================================== -->

        </nav>
    </header>
    <!-- ============================================================== -->
    <!-- End Topbar header -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- Left Sidebar - style you can find in sidebar.scss  -->
    <!-- ============================================================== -->
    <aside class="left-sidebar">
        <!-- Sidebar scroll-->
        <div class="scroll-sidebar">
            <!-- User profile -->
            <div class="user-profile">
                <!-- User profile image -->
                <div class="profile-img"> <img src="assets/images/users/1.jpg" alt="user" /> </div>
                <!-- User profile text-->
                <div class="profile-text"> <a href="#" class="dropdown-toggle link u-dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Administrador <span class="caret"></span></a>
                    <div class="dropdown-menu animated flipInY">
                        <a href="#" class="dropdown-item"><i class="ti-user"></i> My Profile</a>
                        <a href="#" class="dropdown-item"><i class="ti-wallet"></i> My Balance</a>
                        <a href="#" class="dropdown-item"><i class="ti-email"></i> Inbox</a>
                        <div class="dropdown-divider"></div> <a href="#" class="dropdown-item"><i class="ti-settings"></i> Account Setting</a>
                        <div class="dropdown-divider"></div> <a href="login.html" class="dropdown-item"><i class="fa fa-power-off"></i> Logout</a>
                    </div>
                </div>
            </div>
            <!-- End User profile text-->
            <!-- Sidebar navigation-->
            <nav class="sidebar-nav">
                <ul id="sidebarnav">
                    <li class="nav-small-cap">BIENVENIDO A ONEPROP</li>
                    <li>
                        <a class="has-arrow" href="#" aria-expanded="false"><i class="mdi mdi-gauge"></i><span class="hide-menu">Dashboard</span></a>
                    </li>
                    <li class="nav-devider"></li>
                    <li class="nav-small-cap">SERVICIOS</li>
                    <li>
                        <a class="has-arrow" href="#" aria-expanded="false" ng-click="vm.goToReclamos()"><i class="mdimdi-file"></i><span class="hide-menu">Reclamos</span></a>
                        <!--ul aria-expanded="false" class="collapse">
                            <li><a href="ingresar-reclamo.html">Ingresar Reclamo</a></li>
                            <li><a href="listar-reclamo.html">Listar Reclamo</a></li>
                        </ul-->
                    </li>
                    <!--li>
                        <a class="has-arrow" href="#" aria-expanded="false" ng-click="vm.goToNuevoReclamo()"><i class="mdi mdi-file"></i><span class="hide-menu">Nuevo Reclamo</span></a>
                        <ul aria-expanded="false" class="collapse">
                            <li><a href="ingresar-reclamo.html">Ingresar Reclamo</a></li>
                            <li><a href="listar-reclamo.html">Listar Reclamo</a></li>
                        </ul>
                    </li-->
                    <li>
                        <a class="has-arrow" href="#" aria-expanded="false" ng-click="vm.goToPagos()"><i class="mdi mdi-file"></i><span class="hide-menu">Pagos</span></a>
                        <!--ul aria-expanded="false" class="collapse">
                            <li><a href="ingresar-pago.html">Ingresar Pago</a></li>
                            <li><a href="listar-pago.html">Listar Pago</a></li>
                        </ul-->
                    </li>
                    <!--li>
                        <a class="has-arrow" href="#" aria-expanded="false" ng-click="vm.goToNuevoPago()"><i class="mdi mdi-file"></i><span class="hide-menu">Nuevo Pago</span></a>
                        <ul aria-expanded="false" class="collapse">
                            <li><a href="ingresar-pago.html">Ingresar Pago</a></li>
                            <li><a href="listar-pago.html">Listar Pago</a></li>
                        </ul>
                    </li-->
                </ul>
            </nav>
            <!-- End Sidebar navigation -->
        </div>
        <!-- End Sidebar scroll-->
        <!-- Bottom points-->
        <div class="sidebar-footer">
            <!-- item-->
            <a href="" class="link" data-toggle="tooltip" title="Settings"><i class="ti-settings"></i></a>
            <!-- item-->
            <a href="" class="link" data-toggle="tooltip" title="Email"><i class="mdi mdi-gmail"></i></a>
            <!-- item-->
            <a href="" class="link" data-toggle="tooltip" title="Logout" ng-click="vm.logout()"><i class="mdi mdi-power"></i></a>
        </div>
        <!-- End Bottom points-->
    </aside>
    <!-- ============================================================== -->
    <!-- End Left Sidebar - style you can find in sidebar.scss  -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- Page wrapper  -->
    <!-- ============================================================== -->
    <div class="page-wrapper">
        <!-- ============================================================== -->
        <!-- Container fluid  -->
        <!-- ============================================================== -->
        <div class="container-fluid">
            <!-- ============================================================== -->
            <!-- Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <div class="row page-titles">
                <div class="col-md-12 align-self-center">
                    <h3 class="text-themecolor m-b-0 m-t-0">Pagos</h3>
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="javascript:void(0)">Inicio</a></li>
                        <li class="breadcrumb-item active">Listar pagos</li>
                        <li class="breadcrumb-item" ng-show="vm.consorciowasselected">{{vm.consorcioselected}} <img src="assets/images/close.svg" ng-click="vm.removeCriteria(vm.consorcioselected )" style="display: inline-block;" ></li>
                        <li class="breadcrumb-item" ng-show="vm.copropietariowasselected">{{vm.copropietarioselected}} <img src="assets/images/close.svg" ng-click="vm.removeCriteria(vm.copropietarioselected )" style="display: inline-block;" ></li>
                        <li class="breadcrumb-item" ng-show="vm.bancowasselected">{{vm.bancoselected}} <img src="assets/images/close.svg" ng-click="vm.removeCriteria(vm.bancoselected )" style="display: inline-block;" ></li>
                        <li class="breadcrumb-item" ng-show="vm.estadowasselected">{{vm.estadoselected}} <img src="assets/images/close.svg" ng-click="vm.removeCriteria(vm.estadoselected )" style="display: inline-block;" ></li>
                        <li class="breadcrumb-item" ng-show="vm.movimientowasselected">{{vm.movimientoselected}} <img src="assets/images/close.svg" ng-click="vm.removeCriteria(vm.movimientoselected )" style="display: inline-block;" > </li>
                    </ol>
                </div>
            </div>

            <div class="row">

                <div class="col-ms-4">
                    <div class="dropdown m-r-10 hidden-sm-down">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuConsorciosButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Seleccionar consorcio</button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                            <a ng-repeat="consorcio in vm.consorcios" class="dropdown-item" ng-click="vm.getPagosByConsorcio( consorcio.id, consorcio.nombre )" >{{consorcio.nombre}}</a>

                        </div>
                    </div>
                </div>

                <div class="col-ms-4">
                    <div class="dropdown m-r-10 hidden-sm-down">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuCopropietarioButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Buscar por copropietario</button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <div ng-repeat="copropietario in vm.copropietarios" >

                                <a class="dropdown-item" ng-click="vm.getPagosByCopropietario( copropietario.id, copropietario.nombre )" ng-show="copropietario.nombre != null">{{ copropietario.nombre }}</a>

                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-ms-4">
                    <div class="dropdown m-r-10 hidden-sm-down">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuBancosButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Buscar por banco</button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <div ng-repeat="banco in vm.bancos" >

                                <a class="dropdown-item" ng-click="vm.getPagosByBanco( banco.nombre )" ng-show="banco.nombre != null">{{ banco.nombre }}</a>

                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-ms-4">
                    <div class="dropdown m-r-10 hidden-sm-down">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuEstadoButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Buscar por estado</button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <div ng-repeat="estado in vm.estadopagos" >

                                <a class="dropdown-item" ng-click="vm.getPagosByEstado( estado.nombre )" ng-show="estado.nombre != null">{{ estado.nombre }}</a>

                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-ms-4">
                    <div class="dropdown m-r-10 hidden-sm-down">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuMovimientosButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Buscar por Movimiento</button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <div ng-repeat="movimiento in vm.movimientos" >

                                <a class="dropdown-item" ng-click="vm.getPagosByMovimiento( movimiento.nombre )" ng-show="movimiento.nombre != null">{{ movimiento.nombre }}</a>

                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- ============================================================== -->
            <!-- CONTENEDOR ANGULAR -->
            <!-- ============================================================== -->


            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-block">
                            <div class="table-responsive m-t-40">

                                <table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped">
                                  <tr ng-repeat="x in $data" >
                                      <td data-title="'Id'" filter="{id: 'text'}">{{x.id}}</td>
                                      <td data-title="'Fecha'" sortable="'fecha'">
                                        <div class="detail" ng-click="vm.modalDetallePago(x)">
                                          <img class="detailicon" src="assets/images/eye.svg">
                                          <p>{{x.fecha}}</p>
                                        </div>
                                      </td>
                                      <td data-title="'Copropietario'" >{{x.nombre}}</td>
                                      <td data-title="'Banco'" sortable="'banco'">{{x.banco}}</td>
                                      <td data-title="'Comentario'">{{x.comentario}}</td>
                                      <td data-title="'Estado'" sortable="'estado'">

                                        <div class="dropdown hidden-sm-down">
                                            <button
                                              class="btn btn-secondary dropdown-toggle"
                                              type="button" id="dropdownChangeEstadoPagoButton"
                                              data-toggle="dropdown"
                                              aria-haspopup="true"
                                              aria-expanded="false">
                                              {{x.estado}}
                                            </button>
                                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                                                <div ng-repeat="estadopago in vm.estadopagos" >

                                                    <a class="dropdown-item" ng-click="vm.changeEstadoPago( x.id, x.uuid, estadopago.id )" ng-show="estadopago.nombre != null">{{ estadopago.nombre }}</a>

                                                </div>

                                            </div>
                                        </div>

                                      </td>
                                      <td data-title="'Monto'" sortable="'monto'">{{x.monto}}</td>
                                      <td data-title="'Movimiento'" sortable="'movimiento'">{{x.movimiento}}</td>

                                  </tr>
                                </table>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- End PAge Content -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Right sidebar -->
            <!-- ============================================================== -->
            <!-- .right-sidebar -->
            <div class="right-sidebar">
                <div class="slimscrollright">
                    <div class="rpanel-title"> Service Panel <span><i class="ti-close right-side-toggle"></i></span> </div>
                    <div class="r-panel-body">
                        <ul id="themecolors" class="m-t-20">
                            <li><b>With Light sidebar</b></li>
                            <li><a href="javascript:void(0)" data-theme="default" class="default-theme">1</a></li>
                            <li><a href="javascript:void(0)" data-theme="green" class="green-theme">2</a></li>
                            <li><a href="javascript:void(0)" data-theme="red" class="red-theme">3</a></li>
                            <li><a href="javascript:void(0)" data-theme="blue" class="blue-theme">4</a></li>
                            <li><a href="javascript:void(0)" data-theme="purple" class="purple-theme">5</a></li>
                            <li><a href="javascript:void(0)" data-theme="megna" class="megna-theme">6</a></li>
                            <li class="d-block m-t-30"><b>With Dark sidebar</b></li>
                            <li><a href="javascript:void(0)" data-theme="default-dark" class="default-dark-theme working">7</a></li>
                            <li><a href="javascript:void(0)" data-theme="green-dark" class="green-dark-theme">8</a></li>
                            <li><a href="javascript:void(0)" data-theme="red-dark" class="red-dark-theme">9</a></li>
                            <li><a href="javascript:void(0)" data-theme="blue-dark" class="blue-dark-theme">10</a></li>
                            <li><a href="javascript:void(0)" data-theme="purple-dark" class="purple-dark-theme">11</a></li>
                            <li><a href="javascript:void(0)" data-theme="megna-dark" class="megna-dark-theme ">12</a></li>
                        </ul>
                        <ul class="m-t-20 chatonline">
                            <li><b>Chat option</b></li>
                            <li>
                                <a href="javascript:void(0)"><img src="assets/images/users/1.jpg" alt="user-img" class="img-circle"> <span>Varun Dhavan <small class="text-success">online</small></span></a>
                            </li>
                            <li>
                                <a href="javascript:void(0)"><img src="assets/images/users/2.jpg" alt="user-img" class="img-circle"> <span>Genelia Deshmukh <small class="text-warning">Away</small></span></a>
                            </li>
                            <li>
                                <a href="javascript:void(0)"><img src="assets/images/users/3.jpg" alt="user-img" class="img-circle"> <span>Ritesh Deshmukh <small class="text-danger">Busy</small></span></a>
                            </li>
                            <li>
                                <a href="javascript:void(0)"><img src="assets/images/users/4.jpg" alt="user-img" class="img-circle"> <span>Arijit Sinh <small class="text-muted">Offline</small></span></a>
                            </li>
                            <li>
                                <a href="javascript:void(0)"><img src="assets/images/users/5.jpg" alt="user-img" class="img-circle"> <span>Govinda Star <small class="text-success">online</small></span></a>
                            </li>
                            <li>
                                <a href="javascript:void(0)"><img src="assets/images/users/6.jpg" alt="user-img" class="img-circle"> <span>John Abraham<small class="text-success">online</small></span></a>
                            </li>
                            <li>
                                <a href="javascript:void(0)"><img src="assets/images/users/7.jpg" alt="user-img" class="img-circle"> <span>Hritik Roshan<small class="text-success">online</small></span></a>
                            </li>
                            <li>
                                <a href="javascript:void(0)"><img src="assets/images/users/8.jpg" alt="user-img" class="img-circle"> <span>Pwandeep rajan <small class="text-success">online</small></span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- End Right sidebar -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Container fluid  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- footer -->
        <!-- ============================================================== -->
        <footer class="footer"> Â© 2017 Monster Admin by wrappixel.com </footer>
        <!-- ============================================================== -->
        <!-- End footer -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Page wrapper  -->
    <!-- ============================================================== -->
</div>

<script type="text/ng-template" id="detallePago.html">
    <div class="ngdialog-message">
        <h2>Detalle del pago</h2>
        <div>{{pago.nombre}}</div>
        <ul class="mt">
            <li>Fecha : {{pago.fecha}}</li>
            <li>Banco : {{pago.banco}}</li>
            <li>Estado : {{pago.estado}}</li>
            <li>Monto : {{pago.monto}}</li>
            <li>Movimiento : {{pago.movimiento}}</li>
            <li>Comentario : {{pago.comentario}}</li>
            <li ng-hide="pago.adjunto == null" >
              <img src="assets/images/download.svg">
              Adjunto :
              <a href="http://estudiobarrio.plexarg.com/public/comprobantes/{{pago.adjunto}}" target="_blank">
              {{pago.adjunto}}
              </a>
            </li>
        </ul>
    </div>
</script>
